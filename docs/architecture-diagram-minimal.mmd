graph TB
    User[ğŸ‘¤ User Browser]
    
    subgraph "Cloud Run Service"
        Frontend[ğŸŒ Frontend<br/>React/Vite UI]
        Backend[âš™ï¸ Backend API<br/>FastAPI + Gemini Pro]
    end
    
    subgraph "GCP Services"
        Secrets[ğŸ” Secret Manager<br/>gemini-api-key]
    end
    
    Gemini[ğŸ¤– Gemini Pro<br/>Google AI Studio]
    
    %% Main flow
    User -->|"Web Request"| Frontend
    Frontend -->|REST API| Backend
    Secrets -->|"API Key<br/>(auto-injected)"| Backend
    Backend -->|"Prompts"| Gemini
    Gemini -->|AI Responses| Backend
    
    %% Styling - Google Cloud colors
    classDef userStyle fill:#E3F2FD,stroke:#1976D2,stroke-width:3px
    classDef cloudRunStyle fill:#4285F4,stroke:#1A73E8,stroke-width:3px,color:#fff
    classDef secretStyle fill:#9C27B0,stroke:#7B1FA2,stroke-width:2px,color:#fff
    classDef aiStyle fill:#34A853,stroke:#188038,stroke-width:3px,color:#fff
    
    class User userStyle
    class Frontend,Backend cloudRunStyle
    class Secrets secretStyle
    class Gemini aiStyle

